<div class="page-404 color-{{ section.settings.color_scheme }}">
  <h1 class="page-404-heading text-xl">
    {{ section.settings.heading | default: 'not_found.general.title' | t }}
  </h1>

  <p class="page-404-message">
    {{ section.settings.subheading | default: 'not_found.general.message' | t }}
  </p>

  {%- if section.settings.show_search -%}
    <form action="{{ routes.search_url }}" method="get" class="page-404-search" role="search">
      <div class="form-inline">
        <input
          type="search"
          name="q"
          class="input"
          placeholder="{{ 'not_found.general.search_placeholder' | t }}"
          aria-label="{{ 'search.general.title' | t }}"
        >
        <button type="submit" class="button button-primary">
          {{ 'search.general.submit' | t }}
        </button>
      </div>
    </form>
  {%- endif -%}

  {%- if section.settings.show_popular_links -%}
    <div class="page-404-links">
      <h2 class="page-404-links-heading text-medium">
        {{ 'not_found.general.popular_links' | t }}
      </h2>
      <nav aria-label="{{ 'not_found.general.popular_links' | t }}">
        <ul class="page-404-links-list">
          <li><a href="/" class="text-link">{{ shop.name }}</a></li>
          {%- for collection in collections limit: 4 -%}
            <li><a href="{{ collection.url }}" class="text-link">{{ collection.title }}</a></li>
          {%- endfor -%}
        </ul>
      </nav>
    </div>
  {%- endif -%}
</div>

{% stylesheet %}
  .page-404 {
    padding: var(--spacing-5) var(--spacing-2);
    text-align: center;
    max-width: 600px;
    margin-inline: auto;
    min-height: 60vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .page-404-message {
    margin-top: var(--spacing-1);
    color: var(--color-text-light);
  }

  .page-404-search {
    margin-top: var(--spacing-3);
    width: 100%;
    max-width: 400px;
  }

  .page-404-links {
    margin-top: var(--spacing-3);
  }

  .page-404-links-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--spacing-1) var(--spacing-2);
    margin-top: var(--spacing-1);
  }
{% endstylesheet %}

{% schema %}
{
  "name": "404",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Page not found"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Message",
      "default": "The page you're looking for doesn't exist."
    },
    {
      "type": "checkbox",
      "id": "show_search",
      "label": "Show search form",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_popular_links",
      "label": "Show popular links",
      "default": true
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    }
  ]
}
{% endschema %}
