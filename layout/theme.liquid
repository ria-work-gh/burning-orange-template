{%- comment -%} Layout structure & conventions: .claude/conventions/architecture.md {%- endcomment -%}
<!doctype html>
<html lang="{{ request.locale.iso_code }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% render 'meta-tags' %}
  {% render 'json-ld-organization' %}

  {%- if template.name == 'index' -%}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": {{ shop.name | json }},
    "url": {{ shop.url | json }},
    "potentialAction": {
      "@type": "SearchAction",
      "target": "{{ shop.url }}/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  {%- endif -%}

  {%- if settings.favicon -%}
    <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
  {%- endif -%}

  <style>
    @font-face {
      font-family: 'Litteratur';
      src: url('{{ "LitteraturTextSN-Regular.woff2" | asset_url }}') format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Litteratur';
      src: url('{{ "LitteraturTextTrialSN-Italic.otf" | asset_url }}') format('opentype');
      font-weight: 400;
      font-style: italic;
      font-display: swap;
    }
  </style>

  {{ 'base.css' | asset_url | stylesheet_tag }}

  {% style %}
    {%- for scheme in settings.color_schemes -%}
      .color-{{ scheme.id }} {
        --color-background: {{ scheme.settings.background }};
        --color-text: {{ scheme.settings.text }};
        --color-text-muted: {{ scheme.settings.text | color_modify: 'alpha', 0.5 }};

        --color-accent: {{ scheme.settings.button_background }};
        --color-accent-dark: {{ scheme.settings.button_background | color_darken: 15 }};
      }
    {%- endfor -%}
  {% endstyle %}

  {{ content_for_header }}
</head>
<body data-cart-type="{{ settings.cart_type }}">
  <a href="#main-content" class="skip-link">
    {{ 'accessibility.skip_to_content' | t }}
  </a>

  {% sections 'header-group' %}

  <main id="main-content">
    {{ content_for_layout }}
  </main>

  {% sections 'footer-group' %}

  {%- if settings.cart_type == 'drawer' -%}
    {% section 'cart-drawer' %}
  {%- endif -%}

  {% section 'search-drawer' %}
  {% section 'newsletter-popup' %}

  <script>
    document.addEventListener('click', function (e) {
      var summary = e.target.closest('summary');
      if (!summary) return;
      var details = summary.parentElement;
      if (!details || !details.open) return;
      e.preventDefault();
      details.classList.add('is-closing');
      details.addEventListener('animationend', function handler() {
        details.classList.remove('is-closing');
        details.open = false;
        details.removeEventListener('animationend', handler);
      }, { once: true });
    });
  </script>
</body>
</html>
